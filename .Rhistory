library( ggrepel )
install.packages("library( ggrepel )")
install.packages("ggrepel")
library( ggrepel )
p <- ggplot(mtcars,
aes(wt, mpg, label = rownames(mtcars), colour = factor(cyl))) +
geom_point()
# Avoid overlaps by repelling text labels
p + geom_text_repel()
# Labels with background
p + geom_label_repel()
library( dplyr )
library( tidyr )
library( ggplot2 )
library( openxlsx )
library( ggrepel )
url <- "https://github.com/jacobtnyoung/CCJfacultysalary/raw/main/salary.data.xlsx"
dat <- read.xlsx( url )
ggplot(
data = dat,
aes( x = year, y = rate, group = ID )
) +
geom_line( color = "grey40" ) +
geom_point( color = "grey40" ) +
scale_y_continuous( label = scales::dollar ) +
scale_x_continuous(
breaks = c( 2018, 2019, 2020 ),
label = c( "2018", "2019", "2020" )
) +
geom_text_repel( aes( label = l.name ) )
#geom_text( aes( label = l.name ), check_overlap = TRUE, size = 3, color = "darkred" ) +
ggtitle( "ASU CCJ Faculty Salaries (2018 to 2020)" ) +
theme_minimal()
ggplot(
data = dat,
aes( x = year, y = rate, group = ID )
) +
geom_line( color = "grey40" ) +
geom_point( color = "grey40" ) +
scale_y_continuous( label = scales::dollar ) +
scale_x_continuous(
breaks = c( 2018, 2019, 2020 ),
label = c( "2018", "2019", "2020" )
) +
geom_text_repel( label = l.name ) +
#geom_text( aes( label = l.name ), check_overlap = TRUE, size = 3, color = "darkred" ) +
ggtitle( "ASU CCJ Faculty Salaries (2018 to 2020)" ) +
theme_minimal()
dim(dat)
ggplot(
data = dat,
aes( x = year, y = rate, group = ID )
) +
geom_line( color = "grey40" ) +
geom_point( color = "grey40" ) +
scale_y_continuous( label = scales::dollar ) +
scale_x_continuous(
breaks = c( 2018, 2019, 2020 ),
label = c( "2018", "2019", "2020" )
) +
geom_text_repel( aes( label = l.name ), max.overlaps = 30 ) +
#geom_text( aes( label = l.name ), check_overlap = TRUE, size = 3, color = "darkred" ) +
ggtitle( "ASU CCJ Faculty Salaries (2018 to 2020)" ) +
theme_minimal()
knitr::opts_chunk$set(echo = TRUE,
message = FALSE,
warning = FALSE,
fig.width = 8,
fig.height = 8,
fig.align = "center")
rm(list = ls())
ggplot(
data = dat,
aes( x = year, y = rate, group = ID, label = l.name )
) +
geom_line( color = "grey40" ) +
geom_point( color = "grey40" ) +
scale_y_continuous( label = scales::dollar ) +
scale_x_continuous(
breaks = c( 2018, 2019, 2020 ),
label = c( "2018", "2019", "2020" )
) +
geom_text_repel( ) +
#geom_text( aes( label = l.name ), check_overlap = TRUE, size = 3, color = "darkred" ) +
ggtitle( "ASU CCJ Faculty Salaries (2018 to 2020)" ) +
theme_minimal()
ggplot(
data = dat,
aes( x = year, y = rate, group = ID, label = l.name )
) +
geom_line( color = "grey40" ) +
geom_point( color = "grey40" ) +
scale_y_continuous( label = scales::dollar ) +
scale_x_continuous(
breaks = c( 2018, 2019, 2020 ),
label = c( "2018", "2019", "2020" )
) +
geom_text_repel( ) +
#geom_text( aes( label = l.name ), check_overlap = TRUE, size = 3, color = "darkred" ) +
ggtitle( "ASU CCJ Faculty Salaries (2018 to 2020)" ) +
theme_minimal()
library( dplyr )
library( tidyr )
library( ggplot2 )
library( openxlsx )
library( ggrepel )
url <- "https://github.com/jacobtnyoung/CCJfacultysalary/raw/main/salary.data.xlsx"
dat <- read.xlsx( url )
ggplot(
data = dat,
aes( x = year, y = rate, group = ID, label = l.name )
) +
geom_line( color = "grey40" ) +
geom_point( color = "grey40" ) +
scale_y_continuous( label = scales::dollar ) +
scale_x_continuous(
breaks = c( 2018, 2019, 2020 ),
label = c( "2018", "2019", "2020" )
) +
geom_text_repel( ) +
#geom_text( aes( label = l.name ), check_overlap = TRUE, size = 3, color = "darkred" ) +
ggtitle( "ASU CCJ Faculty Salaries (2018 to 2020)" ) +
theme_minimal()
ggplot(
data = dat,
aes( x = year, y = rate, group = ID, label = l.name )
) +
geom_line( color = "grey40" ) +
geom_point( color = "grey40" ) +
scale_y_continuous( label = scales::dollar ) +
scale_x_continuous(
breaks = c( 2018, 2019, 2020 ),
label = c( "2018", "2019", "2020" )
) +
geom_text_repel( max.overlaps = 50 ) +
#geom_text( aes( label = l.name ), check_overlap = TRUE, size = 3, color = "darkred" ) +
ggtitle( "ASU CCJ Faculty Salaries (2018 to 2020)" ) +
theme_minimal()
ggplot(
data = dat,
aes( x = year, y = rate, group = ID, label = l.name )
) +
geom_line( color = "grey40" ) +
geom_point( color = "grey40" ) +
scale_y_continuous( label = scales::dollar ) +
scale_x_continuous(
breaks = c( 2018, 2019, 2020 ),
label = c( "2018", "2019", "2020" )
) +
geom_text_repel( max.overlaps = 500 ) +
#geom_text( aes( label = l.name ), check_overlap = TRUE, size = 3, color = "darkred" ) +
ggtitle( "ASU CCJ Faculty Salaries (2018 to 2020)" ) +
theme_minimal()
ggplot(
data = dat,
aes( x = year, y = rate, group = ID, label = l.name )
) +
geom_line( color = "grey40" ) +
geom_point( color = "grey40" ) +
scale_y_continuous( label = scales::dollar ) +
scale_x_continuous(
breaks = c( 2018, 2019, 2020 ),
label = c( "2018", "2019", "2020" )
) +
geom_text_repel( max.overlaps = 1 ) +
#geom_text( aes( label = l.name ), check_overlap = TRUE, size = 3, color = "darkred" ) +
ggtitle( "ASU CCJ Faculty Salaries (2018 to 2020)" ) +
theme_minimal()
ggplot(
data = dat,
aes( x = year, y = rate, group = ID, label = l.name )
) +
geom_line( color = "grey40" ) +
geom_point( color = "grey40" ) +
scale_y_continuous( label = scales::dollar ) +
scale_x_continuous(
breaks = c( 2018, 2019, 2020 ),
label = c( "2018", "2019", "2020" )
) +
geom_text_repel( point.size = NA ) +
#geom_text( aes( label = l.name ), check_overlap = TRUE, size = 3, color = "darkred" ) +
ggtitle( "ASU CCJ Faculty Salaries (2018 to 2020)" ) +
theme_minimal()
ggplot(
data = dat,
aes( x = year, y = rate, group = ID, label = l.name )
) +
geom_line( color = "grey40" ) +
geom_point( color = "grey40" ) +
scale_y_continuous( label = scales::dollar ) +
scale_x_continuous(
breaks = c( 2018, 2019, 2020 ),
label = c( "2018", "2019", "2020" )
) +
geom_text( aes( label = l.name ), check_overlap = TRUE, size = 3, color = "darkred" ) +
ggtitle( "ASU CCJ Faculty Salaries (2018 to 2020)" ) +
theme_minimal()
ggplot(
data = dat,
aes( x = year, y = rate, group = ID, label = l.name )
) +
geom_line( color = "grey40" ) +
geom_point( color = "grey40" ) +
scale_y_continuous( label = scales::dollar ) +
scale_x_continuous(
breaks = c( 2018, 2019, 2020 ),
label = c( "2018", "2019", "2020" )
) +
geom_text( aes( label = l.name ), check_overlap = FALSE, size = 3, color = "darkred" ) +
ggtitle( "ASU CCJ Faculty Salaries (2018 to 2020)" ) +
theme_minimal()
ggplot(
data = dat,
aes( x = year, y = rate, group = ID )
) +
geom_line( color = "grey40" ) +
geom_point( color = "grey40" ) +
facet_grid( rank ~ . , scales = "free_y", labeller = label_both, switch = "y" ) +
scale_y_continuous( label = scales::dollar ) +
scale_x_continuous(
breaks = c( 2018, 2019, 2020 ),
label = c( "2018", "2019", "2020" )
) +
geom_text_repel( point.size = NA ) +
#geom_text( aes( label = l.name ), check_overlap = TRUE, size = 3, color = "darkred" ) +
ggtitle( "ASU CCJ Faculty Salaries by Rank (2018 to 2020)" ) +
theme_minimal()
ggplot(
data = dat,
aes( x = year, y = rate, group = ID )
) +
geom_line( color = "grey40" ) +
geom_point( color = "grey40" ) +
facet_grid( rank ~ . , scales = "free_y", labeller = label_both, switch = "y" ) +
scale_y_continuous( label = scales::dollar ) +
scale_x_continuous(
breaks = c( 2018, 2019, 2020 ),
label = c( "2018", "2019", "2020" )
) +
geom_text_repel( aes( label = l.name ), point.size = NA ) +
#geom_text( aes( label = l.name ), check_overlap = TRUE, size = 3, color = "darkred" ) +
ggtitle( "ASU CCJ Faculty Salaries by Rank (2018 to 2020)" ) +
theme_minimal()
ggplot(
data = dat,
aes( x = year, y = rate, group = ID, label = l.name )
) +
geom_line( color = "grey40" ) +
geom_point( color = "grey40" ) +
scale_y_continuous( label = scales::dollar ) +
scale_x_continuous(
breaks = c( 2018, 2019, 2020 ),
label = c( "2018", "2019", "2020" )
) +
geom_text_repel( aes( label = l.name ), point.size = NA ) +
#geom_text( aes( label = l.name ), check_overlap = FALSE, size = 3, color = "darkred" ) +
ggtitle( "ASU CCJ Faculty Salaries (2018 to 2020)" ) +
theme_minimal()
table(dat$rank)
dat[dat$rank == "Professor",]
dat[dat$rank == "Professor",]
ggplot(
data = dat[dat$rank == "Professor",],
aes( x = year, y = rate, group = ID )
) +
geom_line( color = "grey40" ) +
geom_point( color = "grey40" ) +
facet_grid( rank ~ . , scales = "free_y", labeller = label_both, switch = "y" ) +
scale_y_continuous( label = scales::dollar ) +
scale_x_continuous(
breaks = c( 2018, 2019, 2020 ),
label = c( "2018", "2019", "2020" )
) +
geom_text_repel( aes( label = l.name ), point.size = NA ) +
#geom_text( aes( label = l.name ), check_overlap = TRUE, size = 3, color = "darkred" ) +
ggtitle( "ASU CCJ Faculty Salaries by Rank (2018 to 2020)" ) +
theme_minimal()
ggplot(
data = dat[dat$rank == "Professor",],
aes( x = year, y = rate, group = ID )
) +
geom_line( color = "grey40" ) +
geom_point( color = "grey40" ) +
facet_grid( rank ~ . , scales = "free_y", labeller = label_both, switch = "y" ) +
scale_y_continuous( label = scales::dollar ) +
scale_x_continuous(
breaks = c( 2018, 2019, 2020 ),
label = c( "2018", "2019", "2020" )
) +
geom_text_repel( aes( label = l.name ), point.size = NA ) +
#geom_text( aes( label = l.name ), check_overlap = TRUE, size = 3, color = "darkred" ) +
ggtitle( "ASU CCJ Faculty Salaries for Full Professors (2018 to 2020)" ) +
theme_minimal()
table(dat$rank)
ggplot(
data = dat[dat$rank == "Associate",],
aes( x = year, y = rate, group = ID )
) +
geom_line( color = "grey40" ) +
geom_point( color = "grey40" ) +
facet_grid( rank ~ . , scales = "free_y", labeller = label_both, switch = "y" ) +
scale_y_continuous( label = scales::dollar ) +
scale_x_continuous(
breaks = c( 2018, 2019, 2020 ),
label = c( "2018", "2019", "2020" )
) +
geom_text_repel( aes( label = l.name ), point.size = NA ) +
#geom_text( aes( label = l.name ), check_overlap = TRUE, size = 3, color = "darkred" ) +
ggtitle( "ASU CCJ Faculty Salaries for Associate Professors (2018 to 2020)" ) +
theme_minimal()
ggplot(
data = dat[dat$rank == "Assistant",],
aes( x = year, y = rate, group = ID )
) +
geom_line( color = "grey40" ) +
geom_point( color = "grey40" ) +
facet_grid( rank ~ . , scales = "free_y", labeller = label_both, switch = "y" ) +
scale_y_continuous( label = scales::dollar ) +
scale_x_continuous(
breaks = c( 2018, 2019, 2020 ),
label = c( "2018", "2019", "2020" )
) +
geom_text_repel( aes( label = l.name ), point.size = NA ) +
#geom_text( aes( label = l.name ), check_overlap = TRUE, size = 3, color = "darkred" ) +
ggtitle( "ASU CCJ Faculty Salaries for Assistant Professors (2018 to 2020)" ) +
theme_minimal()
ggplot(
data = dat[dat$rank == "Professor",],
aes( x = year, y = rate, group = ID )
) +
geom_line( color = "grey40" ) +
geom_point( color = "grey40" ) +
facet_grid( rank ~ . , scales = "free_y", labeller = label_both, switch = "y" ) +
scale_y_continuous( label = scales::dollar ) +
scale_x_continuous(
breaks = c( 2018, 2019, 2020 ),
label = c( "2018", "2019", "2020" )
) +
geom_text_repel( aes( label = l.name ), point.size = NA, segment.curvature = -0.1 ) +
#geom_text( aes( label = l.name ), check_overlap = TRUE, size = 3, color = "darkred" ) +
ggtitle( "ASU CCJ Faculty Salaries for Full Professors (2018 to 2020)" ) +
theme_minimal()
ggplot(
data = dat[dat$rank == "Professor",],
aes( x = year, y = rate, group = ID )
) +
geom_line( color = "grey40" ) +
geom_point( color = "grey40" ) +
facet_grid( rank ~ . , scales = "free_y", labeller = label_both, switch = "y" ) +
scale_y_continuous( label = scales::dollar ) +
scale_x_continuous(
breaks = c( 2018, 2019, 2020 ),
label = c( "2018", "2019", "2020" )
) +
geom_text_repel( aes( label = l.name ),
point.size = NA, segment.curvature = -0.1, segment.ncp = 3, segment.angle = 20 ) +
ggtitle( "ASU CCJ Faculty Salaries for Full Professors (2018 to 2020)" ) +
theme_minimal()
ggplot(
data = dat[dat$rank == "Professor",],
aes( x = year, y = rate, group = ID )
) +
geom_line( color = "grey40" ) +
geom_point( color = "grey40" ) +
facet_grid( rank ~ . , scales = "free_y", labeller = label_both, switch = "y" ) +
scale_y_continuous( label = scales::dollar ) +
scale_x_continuous(
breaks = c( 2018, 2019, 2020 ),
label = c( "2018", "2019", "2020" )
) +
geom_text_repel( aes( label = l.name ),
point.size = 0.2, segment.curvature = -0.1, segment.ncp = 3, segment.angle = 20 ) +
ggtitle( "ASU CCJ Faculty Salaries for Full Professors (2018 to 2020)" ) +
theme_minimal()
ggplot(
data = dat,
aes( x = year, y = rate, group = ID )
) +
geom_line( color = "grey40" ) +
geom_point( color = "grey40" ) +
facet_grid( ~ sex , scales = "free_y", labeller = label_both, switch = "y" ) +
scale_y_continuous( label = scales::dollar ) +
scale_x_continuous(
breaks = c( 2018, 2019, 2020 ),
label = c( "2018", "2019", "2020" )
) +
geom_text_repel( aes( label = l.name ),
point.size = 0.2, segment.curvature = -0.1, segment.ncp = 3, segment.angle = 20 ) +
#geom_text( aes( label = l.name ), check_overlap = TRUE, size = 3, color = "darkred" ) +
ggtitle( "ASU CCJ Faculty Salaries by Sex (2018 to 2020)" ) +
theme_minimal()
ggplot(
data = dat,
aes( x = year, y = rate, group = ID )
) +
geom_line( color = "grey40" ) +
geom_point( color = "grey40" ) +
facet_grid( rank ~ sex, scales = "free_y", labeller = label_both, switch = "y" ) +
scale_y_continuous( label = scales::dollar ) +
scale_x_continuous(
breaks = c( 2018, 2019, 2020 ),
label = c( "2018", "2019", "2020" )
) +
geom_text_repel( aes( label = l.name ),
point.size = 0.2, segment.curvature = -0.1, segment.ncp = 3, segment.angle = 20 ) +
#geom_text( aes( label = l.name ), check_overlap = TRUE, size = 3, color = "darkred" ) +
ggtitle( "ASU CCJ Faculty Salaries by Rank & Sex (2018 to 2020)" ) +
theme_minimal()
ggplot(
data = dat[dat$rank == "Professor",],
aes( x = year, y = rate, group = ID )
) +
geom_line( color = "grey40" ) +
geom_point( color = "grey40" ) +
facet_grid( ~ sex , scales = "free_y", labeller = label_both, switch = "y" ) +
scale_y_continuous( label = scales::dollar ) +
scale_x_continuous(
breaks = c( 2018, 2019, 2020 ),
label = c( "2018", "2019", "2020" )
) +
geom_text_repel( aes( label = l.name ),
point.size = 0.2, segment.curvature = -0.1, segment.ncp = 3, segment.angle = 20 ) +
ggtitle( "ASU CCJ Faculty Salaries by Sex (2018 to 2020)" ) +
theme_minimal()
